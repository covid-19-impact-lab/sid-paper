\subsection{Summary}
\label{sub:model_summary}

To predict and quantify the effects of a wide variety of fine-grained social distancing policies, vaccinations and rapid testing, we propose a different model structure. Our
model inherits many features from prototypical agent-based simulation models but
replaces the contacts between moving particles by contacts between individuals who work,
go to school, live in a household and enjoy leisure activities.

The structure of the model is depicted in Figure~\ref{fig:model_graph}.

\begin{figure}[!tp]
    \centering
    \includegraphics[width=\textwidth]{../figures/model_detailed.png}
    \caption{Simplified graph of the model.}
    \label{fig:model_graph}
\end{figure}

The background characteristics include age, county and occupation of each simulated
individual. Contact models are functions that map individual characteristics into a
predicted number of contacts. Currently, we distinguish between eight types of contact
models which are all listed in Figure~\ref{fig:model_graph}: households, recurrent and
random work contacts, recurrent and random leisure contacts, and nursery, preschool, and
school contacts.

The predicted number of contacts is translated into infections by a matching algorithm.
There are different matching algorithms for recurrent contacts (e.g. classmates, family
members) and non-recurrent contacts (e.g. clients, contacts in supermarkets). The
infection probability can differ for each contact type. All types of contacts can be
assortative with respect to geographic and demographic characteristics.

The infection probabilities of contacts vary with contact type, age of the susceptible
person, and the virus strain of the infected person. Moreover, they follow a seasonal
pattern. The strength of the seasonality effect is higher for contacts that are easy to
be moved to an outside location in summer (such as leisure contacts) and smaller for
contacts that take place inside even in summer (e.g. work contacts).

Once a person is infected, the disease progresses in a fairly standard way which is
depicted in Figure~\ref{fig:course_of_disease}. Asymptomatic cases and cases with mild
symptoms are infectious for some time and recover eventually. Cases with severe symptoms
additionally require hospitalization and lead to either recovery or death.

After rapid tests become available, people who work or go to school can receive rapid
tests there. Moreover, people can decide to make a rapid test if they develop symptoms,
have many planned contacts or observe cases in their contact network. People who have a positive rapid test demand a confirmatory PCR test with a certain
probability. Moreover, PCR tests can be demanded because of symptoms or randomly.

This rich model of PCR and rapid tests leads to a share of detected cases that varies
over time and across age groups. It also allows to quantify the effect of changes in
testing policies on the dynamic of infections.

People who have symptoms, received a positive test, or had a risk contact
can reduce their number of contacts across all contact types endogenously. The extent to
which this is done is calibrated from survey data.

The model makes it very simple to translate policies into model quantities. For example,
school closures imply the complete suspension of school contacts. A strict lockdown
implies shutting down work contacts of all people who are not employed in a systemically
relevant sector. It is also possible to have more sophisticated policies that condition
the number of contacts on observable characteristics, risk contacts or health states.

Another key advantage of the model is that the number of contacts an individual has of
each contact type can be calibrated from publicly available data \citep{Mossong2008}.
This in turn allows us to estimate policy-invariant infection probabilities from time
series of infection and death rates using the method of simulated moments
\citep{McFadden1989}. Since the infection probabilities are time-invariant, data
collected since the beginning of the pandemic can be used for estimation. Moreover,
since we model the testing strategies that were in place at each point in time, we can
correct the estimates for the fact that not all infections are observed.

Last but not least, performing simulations whose starting point is set amidst the
pandemic requires special adjustments to arrive at a realistic distribution of courses
of diseases. We solve the initial conditions problem by matching reported infections to
individuals in our data while also correcting for reporting lag and undetected cases.

In the following sections we describe each of the model components in more detail.
